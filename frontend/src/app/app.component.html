<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0"/>


<mat-toolbar>
  <!-- Desktop Ansicht -->
  <div class="desktop-view">
    <button mat-button [matMenuTriggerFor]="eventMenu" *ngIf="userService.hasPermission('aceofclubs.view_event')">
      Event
    </button>
    <mat-menu #eventMenu="matMenu">
      <button mat-menu-item routerLink="event-list" *ngIf="userService.hasPermission('aceofclubs.view_event')">List
        Events
      </button>
      <button mat-menu-item routerLink="event-form" *ngIf="userService.hasPermission('aceofclubs.add_event')">Create
        Event
      </button>
    </mat-menu>

    <button mat-button [matMenuTriggerFor]="userMenu" *ngIf="userService.hasPermission('aceofclubs.view_user')">Users
    </button>
    <mat-menu #userMenu="matMenu">
      <button mat-menu-item routerLink="user-list" *ngIf="userService.hasPermission('aceofclubs.view_user')">List
        Users
      </button>
      <button mat-menu-item routerLink="user-form" *ngIf="userService.hasPermission('aceofclubs.add_user')">Create
        User
      </button>
    </mat-menu>

    <button mat-button [matMenuTriggerFor]="groupMenu" *ngIf="userService.hasPermission('aceofclubs.view_group')">
      Group
    </button>
    <mat-menu #groupMenu="matMenu">
      <button mat-menu-item routerLink="group-list" *ngIf="userService.hasPermission('aceofclubs.view_group')">List
        Groups
      </button>
      <button mat-menu-item routerLink="group-form" *ngIf="userService.hasPermission('aceofclubs.add_group')">Create
        Groups
      </button>
    </mat-menu>

    <button mat-button [matMenuTriggerFor]="stateMenu" *ngIf="userService.hasPermission('aceofclubs.view_state')">
      States
    </button>
    <mat-menu #stateMenu="matMenu">
      <button mat-menu-item routerLink="state-list" *ngIf="userService.hasPermission('aceofclubs.view_state')">List
        States
      </button>
      <button mat-menu-item routerLink="state-form" *ngIf="userService.hasPermission('aceofclubs.add_state')">Create
        State
      </button>
    </mat-menu>

    <button mat-button [matMenuTriggerFor]="eventTypeMenu"
            *ngIf="userService.hasPermission('aceofclubs.view_eventtype')">Event Types
    </button>
    <mat-menu #eventTypeMenu="matMenu">
      <button mat-menu-item routerLink="event-type-list" *ngIf="userService.hasPermission('aceofclubs.view_eventtype')">
        List Event Types
      </button>
    </mat-menu>

    <button mat-button [matMenuTriggerFor]="userEventMenu"
            *ngIf="userService.hasPermission('aceofclubs.add_eventtype')">Event Entries
    </button>
    <mat-menu #userEventMenu="matMenu">
      <button mat-menu-item routerLink="user-event-list" *ngIf="userService.hasPermission('aceofclubs.add_eventtype')">
        List Event Entries
      </button>
    </mat-menu>

    <button mat-button [matMenuTriggerFor]="userGroupMenu"
            *ngIf="userService.hasPermission('aceofclubs.view_usergroup')">Group Entries
    </button>
    <mat-menu #userGroupMenu="matMenu">
      <button mat-menu-item routerLink="user-group-list" *ngIf="userService.hasPermission('aceofclubs.view_usergroup')">
        List Group Entries
      </button>
    </mat-menu>

    <button mat-button routerLink="user-profile">My Profile</button>

    <app-logout></app-logout>
  </div>

  <!-- Mobile Ansicht -->
  <div class="mobile-view">
    <div class="m-menu">
      <div class="m-menu-l">
        <button class="m-menu-btn" mat-icon-button color="standard" aria-label="Menu" (click)="sidenavdrawer.toggle()"
                *ngIf="isLoggedIn">
          <mat-icon>menu</mat-icon>
        </button>
        <button style="margin-right: 50px" class="logo" routerLink="/overview" *ngIf="isLoggedIn">ACE OF CLUBS</button>
        <button style="margin-right: 130px" class="logo" routerLink="/home" *ngIf="!isLoggedIn">ACE OF CLUBS</button>
      </div>
      <span class="expand"></span>
      <div class="m-menu-r">
        <button mat-icon-button color="standard" routerLink="user-profile" *ngIf="isLoggedIn">
          <mat-icon>account_circle</mat-icon>
        </button>
        <button mat-icon-button color="standard" [matMenuTriggerFor]="loginMenu" routerLink="/login"
                *ngIf="!isLoggedIn">
          <mat-icon>login</mat-icon>
        </button>
        <mat-menu #loginMenu="matMenu">
          <button mat-menu-item routerLink="/login">
            Login
          </button>
          <button mat-menu-item routerLink="/register">
            Sign Up
          </button>
        </mat-menu>
        <app-logout></app-logout>
      </div>
    </div>
  </div>


</mat-toolbar>

<mat-drawer-container class="m-sidenav-container" [hasBackdrop]="true">
  <mat-drawer #sidenavdrawer mode="over" autoFocus="false" (click)="sidenavdrawer.close()">
    <div class="sidenav-profile">
      <mat-icon>account_circle</mat-icon>
      <button mat-button routerLink="user-profile">My Profile</button>
    </div>
    <div class="sidenav-events">
      <h4>Events</h4>
      <button mat-button routerLink="event-list" *ngIf="userService.hasPermission('aceofclubs.view_event')">
        All Events
      </button>
      <button mat-button *ngIf="userService.hasPermission('aceofclubs.view_event')">
        New Events
      </button>
      <button mat-button routerLink="event-form" *ngIf="userService.hasPermission('aceofclubs.add_event')">
        Create Event
      </button>
    </div>
    <div class="sidenav-users">
      <h4>Members</h4>
      <button mat-button routerLink="user-list" *ngIf="userService.hasPermission('aceofclubs.view_user')">
        All Users
      </button>
      <button mat-button routerLink="user-form" *ngIf="userService.hasPermission('aceofclubs.add_user')">
        Create User
      </button>
    </div>
    <div class="sidenav-groups">
      <h4>Groups</h4>
      <button mat-button routerLink="group-list" *ngIf="userService.hasPermission('aceofclubs.view_group')">
        All Groups
      </button>
      <button mat-button routerLink="group-form" *ngIf="userService.hasPermission('aceofclubs.add_group')">
        Create Groups
      </button>
    </div>
    <div class="sidenav-administration">
      <h4>Administrative Tasks</h4>
      <button mat-button routerLink="state-list" *ngIf="userService.hasPermission('aceofclubs.view_state')">List
        States
      </button>
      <button mat-button routerLink="state-form" *ngIf="userService.hasPermission('aceofclubs.add_state')">Create
        State
      </button>
      <button mat-button routerLink="user-group-list" *ngIf="userService.hasPermission('aceofclubs.view_usergroup')">
        List Group Entries
      </button>
      <button mat-button routerLink="event-type-list" *ngIf="userService.hasPermission('aceofclubs.view_eventtype')">
        List Event Types
      </button>
      <button mat-button routerLink="user-event-list" *ngIf="userService.hasPermission('aceofclubs.add_eventtype')">
        List Event Entries
      </button>
    </div>
  </mat-drawer>
  <mat-drawer-content>
    <router-outlet></router-outlet>
  </mat-drawer-content>
</mat-drawer-container>
